# üõ°Ô∏è USB Incident Response Toolkit (Loki Automation)

![Batch Script](https://img.shields.io/badge/Language-Batch%20Script-blue) ![Tools](https://img.shields.io/badge/Tools-Loki%20%7C%20YARA-red) ![Category](https://img.shields.io/badge/Category-Blue%20Team%20%2F%20Forensics-green)

## üìã Descripci√≥n del Proyecto
Desarrollo de una soluci√≥n port√°til de **Respuesta a Incidentes (IR)** para entornos Windows. El objetivo principal fue crear una herramienta "Plug & Play" capaz de realizar un triaje forense r√°pido en equipos sospechosos de compromiso, sin necesidad de instalaci√≥n previa y evadiendo la necesidad de red.

Utilizando **Loki (IOC Scanner)** como motor base, desarroll√© un script de automatizaci√≥n (`.bat`) que gestiona la ejecuci√≥n, optimiza los tiempos de escaneo y filtra los resultados para aislar amenazas reales del "ruido" forense.

## ‚öôÔ∏è Arquitectura de la Soluci√≥n

### 1. Automatizaci√≥n y Optimizaci√≥n
En lugar de ejecutar la herramienta manualmente, cre√© un script en **Batch** que:
* **Autodetecta la unidad:** Usa variables de entorno (`%~dp0`) para funcionar en cualquier letra de unidad (D:, E:, F:) autom√°ticamente.
* **Escaneo Quir√∫rgico:** Implement√© flags (`-p`) para escanear √∫nicamente "Zonas Calientes" (*Hot Zones*) como `C:\Windows`, `C:\Users` y `C:\ProgramData`, reduciendo el tiempo de an√°lisis de 2 horas a 15 minutos.
* **Filtrado de Logs:** Automatizaci√≥n del post-procesado usando `findstr` para separar alertas cr√≠ticas (`WARNING`, `ALERT`) de los avisos informativos (`NOTICE`).

### 2. C√≥digo Destacado (Snippet)
*L√≥gica utilizada para el filtrado de amenazas en tiempo real:*

```batch
:: 1. Ejecuci√≥n del esc√°ner con par√°metros de intensidad y rutas cr√≠ticas
echo [>] Iniciando escaneo forense en memoria y disco...
loki.exe -p C:\Windows -p C:\Users -p C:\ProgramData --intense -l "%LOG_SUCIO%"

:: 2. Post-procesado: Extracci√≥n de IOCs confirmados
:: Ignoramos el nivel 'NOTICE' para evitar falsos positivos leves
findstr /C:"ALERT" /C:"WARNING" /C:"MATCH" "%LOG_SUCIO%" > "%LOG_LIMPIO%"

:: 3. Validaci√≥n de resultados y alerta visual
for %%A in ("%LOG_LIMPIO%") do if %%~zA==0 (
    color 2F
    echo [OK] Sistema Limpio. No se hallaron indicadores de compromiso.
) else (
    color 4F
    echo [PELIGRO] Amenazas detectadas. Revise el reporte filtrado inmediatamente.
)
